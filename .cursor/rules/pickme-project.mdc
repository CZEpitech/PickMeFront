---
description: 
globs: 
alwaysApply: true
---
# PickMe Frontend - RÃ¨gles du Projet

## ğŸ“± Contexte du Projet
PickMe est une application mobile React Native de rÃ©seau social de rencontres.

## ğŸ—ï¸ Architecture
- **Frontend**: React Native (ce repository)
- **Backend**: Repository sÃ©parÃ©, API documentÃ©e dans [postman.json](mdc:postman.json)
- **Service API**: CentralisÃ© dans [app/services/apiService.tsx](mdc:app/services/apiService.tsx)
- **Hooks**: OrganisÃ©s par domaines dans [app/hooks/](mdc:app/hooks) avec export centralisÃ©

## ğŸ”— Configuration Backend
- **URL de base**: `http://87.106.108.25:3456/api/v1`
- **Documentation complÃ¨te**: Voir [postman.json](mdc:postman.json) pour tous les endpoints disponibles
- **Authentification**: JWT Bearer token stockÃ© dans AsyncStorage

## ğŸ“‹ Endpoints Disponibles (selon postman.json)
- ğŸ” **Authentication**: register, login, verify token
- ğŸ‘¤ **Profile**: get/update profile utilisateur
- ğŸ‘¥ **Friends**: gestion des amis et demandes d'amitiÃ©
- ğŸ–¼ï¸ **Images**: gestion des images utilisateur (ajout, suppression, Ã©pinglage)
- ğŸ“Š **Users & Stats**: recherche d'utilisateurs et statistiques
- ğŸ” **Health & Utils**: vÃ©rification de l'Ã©tat de l'API

## ğŸ¯ RÃ¨gles de DÃ©veloppement
1. **RÃ©fÃ©rence Backend**: TOUJOURS utiliser [postman.json](mdc:postman.json) comme rÃ©fÃ©rence pour les endpoints et structures de donnÃ©es
2. **Service API**: Ã‰tendre [app/services/apiService.tsx](mdc:app/services/apiService.tsx) pour ajouter de nouveaux endpoints
3. **Authentification**: Utiliser AsyncStorage pour le token JWT
4. **Structure des RÃ©ponses**: Respecter le format `ApiResponse<T>` dÃ©fini dans le service
5. **Gestion d'Erreurs**: Inclure console.log pour le debugging avec emojis explicites
6. **SÃ©paration des PrÃ©occupations**: Extraire toute logique mÃ©tier dans des hooks spÃ©cialisÃ©s

## ğŸª Architecture des Hooks
### Structure OrganisÃ©e par Domaines :
```
app/hooks/
â”œâ”€â”€ auth/
â”‚   â””â”€â”€ useAuthForm.ts          # Logique d'authentification
â”œâ”€â”€ profile/
â”‚   â””â”€â”€ useProfileForm.ts       # Modification de profil
â”œâ”€â”€ images/
â”‚   â””â”€â”€ useUserImages.ts        # Gestion des images utilisateur
â”œâ”€â”€ friends/
â”‚   â””â”€â”€ useFriends.ts           # SystÃ¨me d'amitiÃ©
â”œâ”€â”€ ui/
â”‚   â””â”€â”€ useDatePicker.ts        # Composants UI rÃ©utilisables
â””â”€â”€ index.ts                    # Export centralisÃ©
```

### Conventions des Hooks :
- **Nommage**: `use[Domaine][Fonction]` (ex: `useAuthForm`, `useProfileForm`)
- **Structure**: Interfaces TypeScript + logique mÃ©tier + gestion d'Ã©tat
- **Export**: Toujours via `app/hooks/index.ts` pour import centralisÃ©
- **SÃ©paration**: Logique mÃ©tier dans hooks, UI pure dans composants

## ğŸ¨ Standards UI/UX

### Design System :
- **SafeAreaView**: OBLIGATOIRE sur toutes les pages principales
- **Headers PersonnalisÃ©s**: Navigation claire avec icÃ´nes Ionicons
- **ThÃ¨me Sombre**: `textColor="#FFFFFF"` et `themeVariant="dark"` par dÃ©faut
- **Modals**: Toujours avec overlay, animation `slide`, boutons Confirmer/Annuler

### Composants Standards :
- **Boutons**: Ionicons modernes (checkmark, close, chevron-back, etc.)
- **Cards**: Padding interne optimisÃ©, coins arrondis
- **Inputs**: Validation en temps rÃ©el avec messages d'erreur explicites
- **DatePicker**: Modal overlay avec validation d'Ã¢ge (18-120 ans)

### Espacement & Layout :
- **Marges**: Design "bord Ã  bord" avec padding interne sur cards
- **Navigation**: Headers avec retour + titre + action rapide
- **ResponsivitÃ©**: OptimisÃ© mobile-first

## ğŸ“ Conventions de Code

### Debugging & Logs :
```typescript
// âœ… Correct - Emojis explicites
console.log("âœ… Success:", data);
console.log("âŒ Error:", error);
console.log("ğŸ”„ Loading:", isLoading);
```

### Gestion d'Erreurs :
- **Alert.alert()** pour erreurs utilisateur
- **console.log avec emojis** pour debugging dÃ©veloppeur
- **Try-catch** obligatoire sur tous les appels API
- **Messages explicites** (pas de codes d'erreur techniques)

### TypeScript :
- **Interfaces** dÃ©finies pour chaque domaine mÃ©tier
- **Types stricts** pour les rÃ©ponses API (`ApiResponse<T>`)
- **Props typÃ©es** pour tous les composants
- **Enums** pour les constantes (COUNTRIES, LANGUAGES, PRONOUNS)

### Validation des DonnÃ©es :
- **Ã‚ge**: 18 ans minimum, 120 ans maximum (calcul prÃ©cis avec mois/jours)
- **Email**: Format valide + vÃ©rification backend
- **Mots de passe**: CritÃ¨res de sÃ©curitÃ© dÃ©finis
- **Champs obligatoires**: Validation cÃ´tÃ© client + serveur

## ğŸ’¾ Technologies ClÃ©s
- React Native
- AsyncStorage pour le stockage local
- Fetch API pour les appels HTTP
- JWT pour l'authentification
- TypeScript pour le typage strict
- Ionicons pour les icÃ´nes modernes

## ğŸ“‹ Ã‰tat d'Avancement & PrioritÃ©s

### âœ… ImplÃ©mentÃ© :
- Architecture de base + navigation
- Authentification complÃ¨te (login/register)
- Profil utilisateur (affichage + modification)
- Structure des hooks par domaines
- Service API centralisÃ© (partiellement)

### âš ï¸ En Cours :
- **apiService.tsx**: Seulement 5/15+ endpoints implÃ©mentÃ©s
- Migration des composants vers les nouveaux hooks

### ğŸš§ Ã€ ImplÃ©menter :
1. **Endpoints API manquants** :
   - Friends (add, accept, reject, remove, block)
   - Images (add, delete, pin)
   - Users & Stats (search, statistics)
   - Health Check (status API)

2. **Pages Ã  dÃ©velopper** :
   - `friends.tsx` (actuellement placeholder)
   - `home.tsx` (feed principal)
   - `discover.tsx` (dÃ©couverte utilisateurs)

3. **FonctionnalitÃ©s avancÃ©es** :
   - SystÃ¨me de matching
   - Chat en temps rÃ©el
   - Notifications push

## ğŸš¨ Points d'Attention
- Le backend est sur un repository sÃ©parÃ©
- Tous les nouveaux endpoints doivent Ãªtre basÃ©s sur la documentation postman.json
- L'apiService actuel n'implÃ©mente qu'une partie des endpoints disponibles
- **Score de conformitÃ© actuel : 7/10**

## ğŸ”§ Commandes de DÃ©veloppement
```bash
# Installation
npm install

# DÃ©veloppement
npm start

# Hooks - Toujours importer depuis l'index centralisÃ©
import { useAuthForm, useProfileForm } from '@/hooks';
```

## ğŸ¯ Objectifs Ã  Court Terme
1. ComplÃ©ter tous les endpoints dans `apiService.tsx`
2. Finaliser la migration vers les hooks organisÃ©s
3. ImplÃ©menter les pages friends/home/discover
4. Atteindre 10/10 de conformitÃ© avec les rÃ¨gles projet
